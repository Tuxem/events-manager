{% extends "base.html" %}
{% block body %}
<h1>Events</h1>
<a href="{{ url_for('web.create_or_edit_event') }}" class="btn btn-primary">Add New event</a>
<ul>
  {% for event in events %}
  <li>
    <!-- Make event name clickable to edit the event -->
    <a href="{{ url_for('web.create_or_edit_event', id=event.id) }}">{{ event.date }} - {% for band in event.bands %}{{ band.name }}{% if not loop.last %}, {% endif %}{% endfor %}</a>
    <!-- Confirmation dialog for Delete -->
    <form action="{{ url_for('web.delete_event', id=event.id) }}" method="post" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this event?');">
      <input type="submit" value="Delete" class="btn btn-danger">
    </form>
  </li>
  {% endfor %}
</ul>
{% endblock %}
